{
    "swagger": "2.0",
    "info": {
        "description": "Сервис для управления событиями, картами и точками интереса.",
        "title": "Event Designer API",
        "contact": {},
        "version": "1.0"
    },
    "host": "localhost:8080",
    "basePath": "/",
    "paths": {
        "/admin/events": {
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Создает новое мероприятие. Доступно только администраторам.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Events"
                ],
                "summary": "Создать мероприятие",
                "parameters": [
                    {
                        "description": "Данные для создания мероприятия",
                        "name": "event",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.CreateEventRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Успешное создание, возвращает ID и имя",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "400": {
                        "description": "Invalid JSON / Name is required",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "Authentication context missing / Failed to create event",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "patch": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Обновляет поля мероприятия. Используется метод PATCH, можно передавать только те поля, которые нужно изменить.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Events"
                ],
                "summary": "Обновить информацию о мероприятии",
                "parameters": [
                    {
                        "description": "Поля для обновления мероприятия",
                        "name": "update",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.UpdateEventRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Мероприятие успешно обновлено",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid JSON / Event ID required / Invalid event ID format",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "404": {
                        "description": "Event not found",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "Database error / Failed to update event",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/admin/events/allowed-emails": {
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Добавляет email в список разрешенных участников для данного мероприятия.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Events"
                ],
                "summary": "Добавить разрешенный email",
                "parameters": [
                    {
                        "description": "ID мероприятия и Email для добавления",
                        "name": "allowedEmail",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.AllowedEmailRequest"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Email успешно добавлен (No Content)"
                    },
                    "400": {
                        "description": "Invalid JSON / Required fields missing / Invalid event ID format",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "404": {
                        "description": "Event not found",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "Database error / Failed to add allowed email",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Удаляет email из списка разрешенных участников для данного мероприятия.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Events"
                ],
                "summary": "Удалить разрешенный email",
                "parameters": [
                    {
                        "description": "ID мероприятия и Email для удаления",
                        "name": "allowedEmail",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.AllowedEmailRequest"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Email успешно удален (No Content)"
                    },
                    "400": {
                        "description": "Invalid JSON / Required fields missing / Invalid event ID format",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "Failed to delete allowed email or email/event not found",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/admin/events/map": {
            "put": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Загружает новый файл карты или заменяет существующий для мероприятия.",
                "consumes": [
                    "multipart/form-data"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Maps"
                ],
                "summary": "Загрузить или обновить карту мероприятия",
                "parameters": [
                    {
                        "type": "string",
                        "description": "ID мероприятия (UUID)",
                        "name": "event_id",
                        "in": "formData",
                        "required": true
                    },
                    {
                        "type": "file",
                        "description": "Файл карты (изображение)",
                        "name": "map_file",
                        "in": "formData",
                        "required": true
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Карта успешно создана (StatusCreated)"
                    },
                    "204": {
                        "description": "Карта успешно обновлена (No Content)"
                    },
                    "400": {
                        "description": "Invalid event ID format / Missing form data",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "Failed to upload file / Failed to create/update event map in DB",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/admin/events/points/simple": {
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Создает новую точку на карте (без привязки к таймлайну). Требуется EventID, X, Y и Title.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Points"
                ],
                "summary": "Создать простую точку",
                "parameters": [
                    {
                        "description": "Данные точки (X, Y, Title, EventID)",
                        "name": "point",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.SimplePointRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Успешное создание, возвращает ID",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "400": {
                        "description": "Invalid request body / Required fields missing",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "403": {
                        "description": "Forbidden: Cannot use timeline data",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "Failed to create simple point",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "patch": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Обновляет координаты и/или заголовок существующей простой точки.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Points"
                ],
                "summary": "Обновить простую точку",
                "parameters": [
                    {
                        "description": "ID точки и поля для обновления (ID required)",
                        "name": "point",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.SimplePointRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Точка успешно обновлена"
                    },
                    "400": {
                        "description": "Invalid request body / Point ID must be provided",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "403": {
                        "description": "Forbidden: Cannot update Timeline Point using Simple Point endpoint / Cannot add timeline data",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "404": {
                        "description": "Point not found",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "Failed to update simple point",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/admin/events/points/timeline": {
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Создает новую точку на карте с привязкой к таймлайну (StartAt, EndAt, Description). Требуются все поля.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Points"
                ],
                "summary": "Создать точку таймлайна",
                "parameters": [
                    {
                        "description": "Данные точки (EventID, X, Y, Title, StartAt, EndAt, TimelineDescription)",
                        "name": "point",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.PointRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Успешное создание, возвращает ID",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "400": {
                        "description": "Invalid request body / All timeline fields are required",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "Failed to create timeline point",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "patch": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Обновляет существующую точку таймлайна. Требуется предоставление всех полей таймлайна для обновления.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Points"
                ],
                "summary": "Обновить точку таймлайна",
                "parameters": [
                    {
                        "description": "ID точки и полные данные таймлайна (ID, StartAt, EndAt, Description required)",
                        "name": "point",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.PointRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Точка успешно обновлена"
                    },
                    "400": {
                        "description": "Invalid request body / Required fields missing",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "403": {
                        "description": "Forbidden: Cannot update Simple Point using Timeline Point endpoint",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "404": {
                        "description": "Point not found",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "Failed to update timeline point",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/admin/events/{eventID}": {
            "delete": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Удаляет мероприятие по его ID. Доступно только администраторам.",
                "tags": [
                    "Events"
                ],
                "summary": "Удалить мероприятие",
                "parameters": [
                    {
                        "type": "string",
                        "description": "ID мероприятия (UUID)",
                        "name": "eventID",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Мероприятие успешно удалено (No Content)"
                    },
                    "400": {
                        "description": "Invalid event ID format in URL",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "404": {
                        "description": "Event not found",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "Failed to delete event",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/admin/events/{eventID}/map": {
            "delete": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Удаляет карту мероприятия и соответствующий файл из хранилища.",
                "tags": [
                    "Maps"
                ],
                "summary": "Удалить карту мероприятия",
                "parameters": [
                    {
                        "type": "string",
                        "description": "ID мероприятия (UUID)",
                        "name": "eventID",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Карта успешно удалена (No Content)"
                    },
                    "400": {
                        "description": "Invalid event ID format in URL",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "404": {
                        "description": "Event map not found.",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "Failed to delete event map",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/admin/events/{eventID}/points/{pointID}": {
            "delete": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Удаляет простую точку или точку таймлайна по ее ID.",
                "tags": [
                    "Points"
                ],
                "summary": "Удалить точку",
                "parameters": [
                    {
                        "type": "string",
                        "description": "ID мероприятия (UUID)",
                        "name": "eventID",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "ID точки (UUID)",
                        "name": "pointID",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Точка успешно удалена (No Content)"
                    },
                    "400": {
                        "description": "Invalid ID format in URL",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "Failed to delete point",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/auth/login": {
            "post": {
                "description": "Обрабатывает вход администратора по почте и паролю. Возвращает JWT-токен с ролью \"admin\".",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Auth"
                ],
                "summary": "Вход администратора",
                "parameters": [
                    {
                        "description": "Учетные данные администратора",
                        "name": "loginRequest",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.LoginRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Успешный вход, возвращает токен",
                        "schema": {
                            "$ref": "#/definitions/models.AuthResponse"
                        }
                    },
                    "400": {
                        "description": "Invalid JSON",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "401": {
                        "description": "Invalid email or password / Only admins can log in with password",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "Database error / Failed to generate token",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/auth/request-code": {
            "post": {
                "description": "Отправляет одноразовый код потверждения на email для входа на мероприятие. Требуется, чтобы email был разрешен для EventID.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Auth"
                ],
                "summary": "Запрос кода доступа",
                "parameters": [
                    {
                        "description": "Event ID и Email участника",
                        "name": "requestCode",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.RequestCodeRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Код успешно сгенерирован и отправлен",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid JSON / Required fields missing / Invalid event_id format",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "403": {
                        "description": "Email not allowed for this event",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "Database error / Failed to generate code / Failed to save code",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/auth/verify-code": {
            "post": {
                "description": "Потверждает код доступа, предоставленный по email. При успешной проверке возвращает JWT-токен для доступа к ресурсам мероприятия. Если пользователь не существует, он будет создан как \"observer\".",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Auth"
                ],
                "summary": "Подтверждение кода и вход участника",
                "parameters": [
                    {
                        "description": "Event ID, Email и полученный код доступа",
                        "name": "verifyCode",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.VerifyCodeRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Успешная аутентификация, возвращает токен",
                        "schema": {
                            "$ref": "#/definitions/models.AuthResponse"
                        }
                    },
                    "400": {
                        "description": "Invalid JSON / Required fields missing / Invalid event_id format",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "401": {
                        "description": "Invalid or expired code",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "403": {
                        "description": "Email not allowed for this event",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "Database error / Failed to generate token",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/events": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Получает список мероприятий. Для администраторов - все созданные ими мероприятия и мероприятия на которые они добавлены. Для участников - мероприятия, на которые их email разрешен.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Events"
                ],
                "summary": "Получить список мероприятий",
                "responses": {
                    "200": {
                        "description": "Список мероприятий",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/models.ListEventResponse"
                            }
                        }
                    },
                    "500": {
                        "description": "Authentication context missing / Failed to retrieve events",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/events/{eventID}/map": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Возвращает URL общедоступной карты мероприятия.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Maps"
                ],
                "summary": "Получить карту мероприятия",
                "parameters": [
                    {
                        "type": "string",
                        "description": "ID мероприятия (UUID)",
                        "name": "eventID",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "URL карты",
                        "schema": {
                            "$ref": "#/definitions/models.MapResponse"
                        }
                    },
                    "400": {
                        "description": "Invalid event ID format in URL",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "404": {
                        "description": "Event map not found.",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "Failed to fetch event map",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/events/{eventID}/points": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Возвращает список всех простых точек и точек таймлайна для указанного мероприятия.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Points"
                ],
                "summary": "Получить все точки по ID мероприятия",
                "parameters": [
                    {
                        "type": "string",
                        "description": "ID мероприятия (UUID)",
                        "name": "eventID",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Список точек",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/models.PointResponse"
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid event ID",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "Failed to fetch points",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/events/{event_id}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Получает детальную информацию о мероприятии. Доступно создателю мероприятия и участникам, чьи email разрешены.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Events"
                ],
                "summary": "Получить мероприятие по ID",
                "parameters": [
                    {
                        "type": "string",
                        "description": "ID мероприятия (UUID)",
                        "name": "event_id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Полная информация о мероприятии",
                        "schema": {
                            "$ref": "#/definitions/models.EventResponse"
                        }
                    },
                    "400": {
                        "description": "Invalid event ID format",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "403": {
                        "description": "Access denied for this event",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "404": {
                        "description": "Event not found",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "Database error",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "models.AllowedEmailRequest": {
            "type": "object",
            "properties": {
                "email": {
                    "description": "Email для добавления/удаления",
                    "type": "string",
                    "example": "new.participant@example.com"
                },
                "event_id": {
                    "description": "ID мероприятия",
                    "type": "string",
                    "example": "a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11"
                }
            }
        },
        "models.AuthResponse": {
            "type": "object",
            "properties": {
                "message": {
                    "description": "Сообщение о статусе авторизации",
                    "type": "string",
                    "example": "Authentication successful"
                },
                "token": {
                    "description": "JWT токен для последующих запросов",
                    "type": "string",
                    "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                },
                "user": {
                    "description": "Детали пользователя",
                    "allOf": [
                        {
                            "$ref": "#/definitions/models.UserResponse"
                        }
                    ]
                }
            }
        },
        "models.CreateEventRequest": {
            "type": "object",
            "properties": {
                "address": {
                    "description": "Адрес проведения",
                    "type": "string",
                    "example": "Ул. Программистов, 15"
                },
                "description": {
                    "description": "Описание мероприятия",
                    "type": "string",
                    "example": "Крупнейшее событие года в сфере технологий."
                },
                "ends_at": {
                    "description": "Время окончания мероприятия",
                    "type": "string",
                    "example": "2025-12-01T18:00:00Z"
                },
                "name": {
                    "description": "Название мероприятия",
                    "type": "string",
                    "example": "Ежегодная конференция IT"
                },
                "starts_at": {
                    "description": "Время начала мероприятия",
                    "type": "string",
                    "example": "2025-12-01T10:00:00Z"
                }
            }
        },
        "models.EventResponse": {
            "type": "object",
            "properties": {
                "address": {
                    "type": "string"
                },
                "creator_email": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "ends_at": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "starts_at": {
                    "type": "string"
                }
            }
        },
        "models.ListEventResponse": {
            "type": "object",
            "properties": {
                "address": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "ends_at": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "starts_at": {
                    "type": "string"
                }
            }
        },
        "models.LoginRequest": {
            "type": "object",
            "properties": {
                "email": {
                    "description": "Email пользователя",
                    "type": "string",
                    "example": "admin@example.com"
                },
                "password": {
                    "description": "Пароль пользователя",
                    "type": "string",
                    "example": "admin_hash_secure"
                }
            }
        },
        "models.MapResponse": {
            "type": "object",
            "properties": {
                "map_url": {
                    "description": "Публичный URL карты мероприятия",
                    "type": "string",
                    "example": "http://localhost:8080/static/maps/a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11_map.jpg"
                }
            }
        },
        "models.PointRequest": {
            "type": "object",
            "properties": {
                "end_at": {
                    "description": "Время окончания события",
                    "type": "string",
                    "example": "2025-12-01T10:00:00Z"
                },
                "event_id": {
                    "description": "ID мероприятия, к которому относится точка (обязательно)",
                    "type": "string",
                    "example": "a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11"
                },
                "id": {
                    "description": "ID точки (обязательно для обновления)",
                    "type": "string",
                    "example": "11eebc99-9c0b-4ef8-bb6d-6bb9bd380a11"
                },
                "start_at": {
                    "description": "Время начала события",
                    "type": "string",
                    "example": "2025-12-01T09:00:00Z"
                },
                "timeline_description": {
                    "description": "Поля Таймлайна\nОписание события в таймлайне",
                    "type": "string",
                    "example": "Регистрация участников и утренний кофе."
                },
                "title": {
                    "description": "Заголовок точки (обязательно)",
                    "type": "string",
                    "example": "Стойка регистрации"
                },
                "x": {
                    "description": "Координата X на карте (обязательно)",
                    "type": "integer",
                    "example": 50
                },
                "y": {
                    "description": "Координата Y на карте (обязательно)",
                    "type": "integer",
                    "example": 100
                }
            }
        },
        "models.PointResponse": {
            "type": "object",
            "properties": {
                "end_at": {
                    "description": "Время окончания события",
                    "type": "string",
                    "example": "2025-12-01T10:00:00Z"
                },
                "event_id": {
                    "description": "ID мероприятия, к которому относится точка",
                    "type": "string",
                    "example": "a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11"
                },
                "id": {
                    "description": "ID точки",
                    "type": "string",
                    "example": "11eebc99-9c0b-4ef8-bb6d-6bb9bd380a11"
                },
                "start_at": {
                    "description": "Время начала события",
                    "type": "string",
                    "example": "2025-12-01T09:00:00Z"
                },
                "timeline_description": {
                    "description": "Поля Таймлайна (поля могут быть NULLable в базе, поэтому используем указатели, если они не являются обязательными)\nОписание события в таймлайне",
                    "type": "string",
                    "example": "Регистрация участников и утренний кофе."
                },
                "title": {
                    "description": "Заголовок точки",
                    "type": "string",
                    "example": "Стойка регистрации"
                },
                "x": {
                    "description": "Координата X на карте",
                    "type": "integer",
                    "example": 50
                },
                "y": {
                    "description": "Координата Y на карте",
                    "type": "integer",
                    "example": 100
                }
            }
        },
        "models.RequestCodeRequest": {
            "type": "object",
            "properties": {
                "email": {
                    "description": "Email пользователя, запрашивающего код",
                    "type": "string",
                    "example": "observer1@example.com"
                },
                "event_id": {
                    "description": "ID мероприятия, к которому запрашивается доступ",
                    "type": "string",
                    "example": "a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11"
                }
            }
        },
        "models.SimplePointRequest": {
            "type": "object",
            "properties": {
                "event_id": {
                    "description": "ID мероприятия, к которому относится точка (обязательно)",
                    "type": "string",
                    "example": "a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11"
                },
                "id": {
                    "description": "ID точки (обязательно для обновления)",
                    "type": "string",
                    "example": "44eebc99-9c0b-4ef8-bb6d-6bb9bd380a11"
                },
                "title": {
                    "description": "Заголовок точки (обязательно)",
                    "type": "string",
                    "example": "Название"
                },
                "x": {
                    "description": "Координата X на карте (обязательно)",
                    "type": "integer",
                    "example": 90
                },
                "y": {
                    "description": "Координата Y на карте (обязательно)",
                    "type": "integer",
                    "example": 150
                }
            }
        },
        "models.UpdateEventRequest": {
            "type": "object",
            "properties": {
                "address": {
                    "description": "Новый адрес",
                    "type": "string",
                    "example": "Санкт-Петербург, Экспоцентр"
                },
                "description": {
                    "description": "Новое описание мероприятия",
                    "type": "string",
                    "example": "Новое описание события."
                },
                "ends_at": {
                    "description": "Новое время окончания",
                    "type": "string",
                    "example": "2025-12-01T19:00:00Z"
                },
                "event_id": {
                    "description": "ID мероприятия для обновления",
                    "type": "string",
                    "example": "a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11"
                },
                "name": {
                    "description": "Новое название мероприятия",
                    "type": "string",
                    "example": "Обновленное название конференции"
                },
                "starts_at": {
                    "description": "Новое время начала",
                    "type": "string",
                    "example": "2025-12-01T10:00:00Z"
                }
            }
        },
        "models.UserResponse": {
            "type": "object",
            "properties": {
                "email": {
                    "description": "Email пользователя",
                    "type": "string",
                    "example": "admin@example.com"
                },
                "id": {
                    "description": "ID пользователя",
                    "type": "integer",
                    "example": 1
                },
                "name": {
                    "description": "Имя пользователя",
                    "type": "string",
                    "example": "Главный Администратор"
                },
                "role": {
                    "description": "Роль пользователя (например, \"admin\" или \"observer\")",
                    "type": "string",
                    "example": "admin"
                },
                "type_of_activity": {
                    "description": "Тип деятельности",
                    "type": "string",
                    "example": "IT"
                }
            }
        },
        "models.VerifyCodeRequest": {
            "type": "object",
            "properties": {
                "code": {
                    "description": "Одноразовый код, полученный по почте",
                    "type": "string",
                    "example": "123456"
                },
                "email": {
                    "description": "Email пользователя",
                    "type": "string",
                    "example": "observer1@example.com"
                },
                "event_id": {
                    "description": "ID мероприятия",
                    "type": "string",
                    "example": "a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11"
                }
            }
        }
    },
    "securityDefinitions": {
        "ApiKeyAuth": {
            "type": "apiKey",
            "name": "Authorization",
            "in": "header"
        }
    }
}