# Описание сущностей:

**1\. users - Пользователи системы**

**Назначение**

Хранит данные всех пользователей, включая администраторов веб-конструктора и обычных пользователей мобильного приложения.

**Кому относится**

- Администраторы (доступ к веб-конструктору событий)
- Наблюдатели / посетители (доступ к мобильному приложению)

**Основные функции сущности**

- Управление авторизацией (логин + пароль для админов, e-mail + код для обычных пользователей)
- Хранение ролей и типа активности
- Идентификация пользователей во всех частях системы

**Атрибуты**

- **id** - уникальный идентификатор пользователя
- **email** - почта пользователя (уникальная)
- **password_hash** - хэш пароля для админов
- **name** - имя пользователя
- **type_of_activity** - вид деятельности (опциональное поле, может использоваться в будущем)
- **role** - роль:
    - - _admin_ - доступ к конструктору
        - _viewer_ или _user_ - обычный пользователь
- **created_at** - дата регистрации

**2\. verification_codes - Коды подтверждения**

**Назначение**

Используются для **авторизации в мобильном приложении**.  
Пользователь вводит e-mail, получает одноразовый код, подтверждает вход.

**Почему это отдельная сущность**

- Таблица работает как временное хранилище кодов
- При подтверждении входа код удаляется или истекает автоматически

**Атрибуты**

- **id** - уникальный идентификатор кода
- **email** - почта, на которую был отправлен код
- **code** - одноразовый код
- **expires_at** - срок действия кода

**3\. events - Мероприятия**

**Назначение**

Хранит описания всех мероприятий, созданных через веб-конструктор.

**Основные функции**

- Основная сущность проекта
- Объединяет расписание, карту, интерактивные точки
- Используется для отображения в мобильном приложении

**Атрибуты**

- **id** - идентификатор мероприятия
- **name** - название
- **description** - описание
- **starts_at** - дата и время начала
- **ends_at** - завершение
- **created_at** - дата создания

**4\. event_allowed_emails - Разрешённые e-mail для мероприятия**

**Назначение**

Ограничивает доступ к отдельным мероприятиям.

**Смысл**

Если организатор хочет сделать мероприятие _не для всех_,  
он может указать список e-mail, которым доступ разрешён.

**Используется в веб-части**

- Администратор вручную добавляет e-mail
- Пользователь получает приглашение (ссылку)

**Атрибуты**

- **id** - идентификатор строки
- **event_id** - ссылка на мероприятие
- **email** - e-mail, которому разрешено участие

**5\. timelines - Таймлайн мероприятия**

**Назначение**

Хранит расписание мероприятия: события, активности, пункты программы.

**Используется где**

- В веб-конструкторе: админ добавляет элементы таймлайна
- В мобильном приложении: пользователь видит вертикальный таймлайн
- Для уведомлений: мобильное приложение планирует push-уведомления по scheduled_at

**Атрибуты**

- **id** - идентификатор элемента таймлайна
- **event_id** - ссылка на мероприятие
- **scheduled_at** - время, когда начинается событие
- **title** - название элемента
- **description** - описание элемента
- **status** - статус (например: "планируется", "идёт", "завершено")
